"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[516],{8516:(D,m,s)=>{s.r(m),s.d(m,{ExamInCourseModule:()=>q});var a=s(9808),d=s(3075),c=s(1994),e=s(5e3);let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez,c.q,d.UX]]}),t})();var u=s(1787),f=s(3900),g=s(9646),l=s(9911),C=s(4205),v=s(2350),h=s(2138),y=s(4594),E=s(5245);let p=(()=>{class t{constructor(n){this.viewContainerRef=n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.s_b))},t.\u0275dir=e.lG2({type:t,selectors:[["","appQuestionHost",""]]}),t})();function I(t,o){}let R=(()=>{class t{constructor(){}ngOnInit(){this.createDynamicComponent()}createDynamicComponent(){const n=this.questionHost.viewContainerRef;n.clear();const r=n.createComponent(this.componentType);r.instance.question=this.question,r.instance.questionNumber=this.questionNumber,r.instance.userID=this.userID}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-exam-question-renderer"]],viewQuery:function(n,r){if(1&n&&e.Gf(p,7),2&n){let i;e.iGM(i=e.CRH())&&(r.questionHost=i.first)}},inputs:{componentType:"componentType",question:"question",questionNumber:"questionNumber",userID:"userID"},decls:1,vars:0,consts:[["appQuestionHost",""]],template:function(n,r){1&n&&e.YNc(0,I,0,0,"ng-template",0)},directives:[p],styles:["[_nghost-%COMP%]{width:50%}"]}),t})();var Q=s(7423);function M(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"app-exam-question-renderer",7),e._uU(2," asdasd "),e.qZA(),e.BQk()),2&t){const n=o.$implicit,r=o.index,i=e.oxw().ngIf;e.xp6(1),e.Q6J("componentType",n.examComponentType)("question",n)("questionNumber",r+1)("userID",i.id)}}function S(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",4),e.YNc(1,M,3,4,"ng-container",5),e.ALo(2,"async"),e.TgZ(3,"button",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().onExamReply()}),e._uU(4," Deliver Exam "),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.exam$).questionList)}}const T=[{path:"",component:(()=>{class t{constructor(n,r,i,O,P){this.router=n,this.examInCourseStore=r,this.authStore=i,this.questionReplierService=O,this.snackbarService=P,this.repliedQuestions=[]}ngOnInit(){this.exam$=this.examInCourseStore.examInCourse$,this.user$=this.authStore.user$;const n=this.examInCourseStore.getNumberOfQuestions();n||this.router.navigateByUrl("/exam/init"),this.questionReplierService.setNumberOfQuestions(n)}onExamReply(){this.questionReplierService.notifyComponentsToSendReplies(),this.questionReplierService.examFullyReplied$.pipe((0,f.w)(n=>n?this.examInCourseStore.updateExam(this.questionReplierService.examResponses):(0,g.of)(null))).subscribe({next:()=>this.router.navigateByUrl("/exam/end"),error:n=>this.snackbarService.openSnackBar(n.message)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.F0),e.Y36(C.G),e.Y36(v.C),e.Y36(l.d),e.Y36(h.o))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-exam-in-course"]],features:[e._Bn([l.d])],decls:8,vars:3,consts:[["color","primary",1,"tool-bar"],["mat-button","","disabled",""],[1,"icon"],["class","grid",4,"ngIf"],[1,"grid"],[4,"ngFor","ngForOf"],["data-cy","exan-deliver-button","mat-raised-button","","color","primary",1,"submit-button",3,"click"],[1,"question",3,"componentType","question","questionNumber","userID"]],template:function(n,r){1&n&&(e.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),e._uU(3,"description"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Exam"),e.qZA()()(),e.YNc(6,S,5,3,"div",3),e.ALo(7,"async")),2&n&&(e.xp6(6),e.Q6J("ngIf",e.lcZ(7,1,r.user$)))},directives:[y.Ye,E.Hw,a.O5,a.sg,R,Q.lW],pipes:[a.Ov],styles:[".grid[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-top:4rem}.grid[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{margin:1rem}.grid[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:4rem;width:50%;height:3rem}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez,c.q,b,x]]}),t})()}}]);