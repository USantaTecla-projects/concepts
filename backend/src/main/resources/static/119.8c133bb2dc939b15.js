"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[119],{6119:(Vt,I,l)=>{l.r(I),l.d(I,{KnowledgeManagerPageModule:()=>Ht});var r=l(9808),O=l(1994),h=l(3607),t=l(5e3);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m]]}),n})(),R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,h.m,$]]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,h.m,O.q]]}),n})(),z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m,L]]}),n})(),H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,z,R]]}),n})(),G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m]]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,h.m,G]]}),n})(),X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m,L]]}),n})(),W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m,X,V]]}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m]]}),n})(),et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,h.m,tt]]}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m,L]]}),n})(),ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,h.m,nt,et]]}),n})();var U=l(1787),y=l(520),J=l(1135),_=l(262),C=l(2843),P=l(8505),D=l(3151),it=l(4004),p=(()=>{return(n=p||(p={})).EMPTY="empty",n.INIT="init",n.LOADING="loading",n.NORMAL="normal",p;var n})();let q=(()=>{class n{constructor(e){this.httpClient=e,this.conceptsPageSubject=new J.X({content:[],totalPages:0,totalElements:0,numberOfElements:0}),this.stateSubject=new J.X(p.INIT),this.conceptsPage$=this.conceptsPageSubject.asObservable(),this.state$=this.stateSubject.asObservable(),this.getConcepts().subscribe()}createConcept(e){return this.httpClient.post("concepts/",e).pipe((0,_.K)(o=>(console.error("Could not create the concept",o),(0,C._)(()=>o))),(0,P.b)(o=>{const c=this.conceptsPageSubject.getValue(),{content:a,totalPages:d,totalElements:u,numberOfElements:w}=Object.assign({},c);let g=Object.assign({},c);a.length<10&&(g=Object.assign(Object.assign({},g),{content:[...a,o],numberOfElements:w+1})),g=Object.assign(Object.assign({},g),{totalElements:u+1,totalPages:d+1}),0===this.conceptsPageSubject.getValue().content.length&&this.stateSubject.next(p.NORMAL),this.conceptsPageSubject.next(g)}),(0,D.d)())}updateConcept(e,o){const c=this.conceptsPageSubject.getValue(),{content:a}=Object.assign({},c),d=a.findIndex(j=>j.id===e),u=Object.assign(Object.assign({},a[d]),o),w=[...a];w[d]=u;const g=Object.assign(Object.assign({},c),{content:w});return this.conceptsPageSubject.next(g),this.httpClient.put(`concepts/${e}`,u).pipe((0,_.K)(j=>(console.error("Could not update the concept",j),(0,C._)(()=>j))),(0,D.d)())}deleteConcept(e){const o=this.conceptsPageSubject.getValue(),{content:c}=Object.assign({},o),a=c.filter(u=>u.id!==e),d=Object.assign(Object.assign({},o),{content:a});return this.conceptsPageSubject.next(d),this.httpClient.delete(`concepts/${e}`).pipe((0,_.K)(u=>(console.error("Could not delete the concept",u),(0,C._)(()=>u))),(0,P.b)(()=>{0===a.length&&this.stateSubject.next(p.EMPTY)}))}getConcepts(e=0){return this.stateSubject.next(p.LOADING),this.httpClient.get("concepts/",{params:(new y.LE).set("page",e)}).pipe((0,_.K)(o=>(console.error("Could not load concepts",o),(0,C._)(()=>o))),(0,P.b)(o=>this.conceptsPageSubject.next(o)),(0,it.U)(o=>o.content),(0,P.b)(o=>{this.stateSubject.next(0===o.length?p.EMPTY:p.NORMAL)}))}countConcepts(){return this.httpClient.get("concepts/count").pipe((0,_.K)(e=>(console.error("Could not count concepts",e),(0,C._)(()=>e))))}resetConceptList(){this.stateSubject.next(p.INIT)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N=(()=>{class n{constructor(e){this.httpClient=e,this.definitionsListSubject=new J.X([]),this.stateSubject=new J.X(p.INIT),this.definitionsList$=this.definitionsListSubject.asObservable(),this.state$=this.stateSubject.asObservable(),console.log("???")}createDefinition(e,o){return this.httpClient.post(`concepts/${e}/definitions/`,o).pipe((0,_.K)(c=>(console.error("Could not create the definition",c),(0,C._)(()=>c))),(0,P.b)(c=>{const d=[...this.definitionsListSubject.getValue(),c];0===this.definitionsListSubject.getValue().length&&this.stateSubject.next(p.NORMAL),this.definitionsListSubject.next(d)}),(0,D.d)())}getDefinitions(e){return this.stateSubject.next(p.LOADING),this.httpClient.get(`concepts/${e}/definitions/`).pipe((0,_.K)(o=>(console.error("Could not load concepts",o),(0,C._)(()=>o))),(0,P.b)(o=>{this.definitionsListSubject.next(o),this.stateSubject.next(0===o.length?p.EMPTY:p.NORMAL)}))}updateDefinition(e,o,c){const a=this.definitionsListSubject.getValue(),d=a.findIndex(g=>g.id===o),u=Object.assign(Object.assign({},a[d]),c),w=[...a];return w[d]=u,this.definitionsListSubject.next(w),this.httpClient.put(`concepts/${e}/definitions/${o}`,u).pipe((0,_.K)(g=>(console.error("Could not update the definition",g),(0,C._)(()=>g))),(0,D.d)())}deleteDefinition(e,o){const a=this.definitionsListSubject.getValue().filter(d=>d.id!==o);return this.definitionsListSubject.next(a),this.httpClient.delete(`concepts/${e}/definitions/${o}`).pipe((0,_.K)(d=>(console.error("Could not delete the definition",d),(0,C._)(()=>d))),(0,P.b)(()=>{0===a.length&&this.stateSubject.next(p.EMPTY)}))}resetDefinitionList(){this.definitionsListSubject.next([]),this.stateSubject.next(p.INIT)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y=(()=>{class n{constructor(e){this.httpClient=e,this.justificationsListSubject=new J.X([]),this.stateSubject=new J.X(p.INIT),this.justificationsList$=this.justificationsListSubject.asObservable(),this.state$=this.stateSubject.asObservable()}createJustification(e,o,c){return this.httpClient.post(`concepts/${e}/definitions/${o}/justifications/`,c).pipe((0,_.K)(a=>(console.error("Could not create the justification",a),(0,C._)(()=>a))),(0,P.b)(a=>{const u=[...this.justificationsListSubject.getValue(),a];0===this.justificationsListSubject.getValue().length&&this.stateSubject.next(p.NORMAL),this.justificationsListSubject.next(u)}),(0,D.d)())}getJustifications(e,o){return this.stateSubject.next(p.LOADING),this.httpClient.get(`concepts/${e}/definitions/${o}/justifications/`).pipe((0,_.K)(c=>(console.error("Could not load concepts",c),(0,C._)(()=>c))),(0,P.b)(c=>{this.justificationsListSubject.next(c),this.stateSubject.next(0===c.length?p.EMPTY:p.NORMAL)}))}updateJustification(e,o,c,a){const d=this.justificationsListSubject.getValue(),u=d.findIndex(j=>j.id===c),w=Object.assign(Object.assign({},d[u]),a),g=[...d];return g[u]=w,this.justificationsListSubject.next(g),this.httpClient.put(`concepts/${e}/definitions/${o}/justifications/${c}`,w).pipe((0,_.K)(j=>(console.error("Could not update the definition",j),(0,C._)(()=>j))),(0,D.d)())}deleteJustification(e,o,c){const d=this.justificationsListSubject.getValue().filter(u=>u.id!==c);return this.justificationsListSubject.next(d),this.httpClient.delete(`concepts/${e}/definitions/${o}/justifications/${c}`).pipe((0,_.K)(u=>(console.error("Could not delete the definition",u),(0,C._)(()=>u))),(0,P.b)(()=>{0===d.length&&this.stateSubject.next(p.EMPTY)}))}resetJustificationList(){this.justificationsListSubject.next([]),this.stateSubject.next(p.INIT)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ct=l(2138),at=l(4594),Z=l(5245),st=l(5698),f=l(8966),s=l(3075),m=l(7322),T=l(8833),x=l(7423);let rt=(()=>{class n{constructor(e){this.formBuilder=e,this.createConcept=new t.vpe,this.conceptForm=new s.cw({})}ngOnInit(){this.conceptForm=this.formBuilder.group({text:[null,[s.kI.required]]})}onSubmit(){const e=this.conceptForm.value;if(e){const o=Object.assign({},e);this.createConcept.emit(o)}}onCancel(){this.createConcept.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-concept-create-form"]],outputs:{createConcept:"createConcept"},decls:12,vars:2,consts:[[1,"form",3,"formGroup","ngSubmit"],["appearance","outline",1,"form-field"],["matInput","","data-cy","knowledge-concept-text-input","type","text","formControlName","text","placeholder","Concept text"],["matSuffix",""],[1,"actions"],["data-cy","knowledge-concept-save-button","mat-raised-button","","type","submit",1,"save-button",3,"disabled"],["color","primary","mat-raised-button","",1,"close-button"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Concept"),t.qZA(),t._UZ(4,"input",2),t.TgZ(5,"mat-icon",3),t._uU(6,"book"),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t._uU(9," Create Concept "),t.qZA(),t.TgZ(10,"button",6),t._uU(11,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.conceptForm),t.xp6(8),t.Q6J("disabled",!o.conceptForm.valid))},directives:[s._Y,s.JL,s.sg,m.KE,m.hX,T.Nt,s.Fj,s.JJ,s.u,Z.Hw,m.R9,x.lW],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:48%}"]}),n})(),lt=(()=>{class n{constructor(e,o){this.data=e,this.dialogRef=o}onConceptCreate(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.WI),t.Y36(f.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-dialog-concept-create"]],decls:3,vars:1,consts:[["mat-dialog-title",""],[3,"createConcept"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"app-knowledge-concept-create-form",1),t.NdJ("createConcept",function(a){return o.onConceptCreate(a)}),t.qZA()),2&e&&(t.xp6(1),t.hij("Create ",o.data.knowledgeItem,""))},directives:[rt],styles:[""]}),n})(),v=(()=>{class n{constructor(e,o){this.data=e,this.dialogRef=o}onClose(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.WI),t.Y36(f.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-dialog-delete"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-action","",1,"actions"],["data-cy","dialog-confirm-button","mat-raised-button","","cdkFocusInitial","","color","warn",3,"click"],["data-cy","dialog-cancel-button","mat-raised-button","",1,"cancel-button",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return o.onClose(!0)}),t._uU(6," Yes "),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return o.onClose(!1)}),t._uU(8,"No"),t.qZA()()),2&e&&(t.xp6(1),t.hij("Delete ",o.data.knowledgeItem,""),t.xp6(2),t.hij("Would you like to delete this ",o.data.knowledgeItem,"?"))},directives:[f.uh,f.xY,x.lW],styles:[".actions[_ngcontent-%COMP%]{display:flex;justify-content:right;margin-top:2rem}.actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{margin-left:1rem}"]}),n})();var b=l(9224),dt=l(5800),M=l(1125),S=l(6688);let F=(()=>{class n{transform(e,o){return e.length>o?`${e.slice(0,o)}...`:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"shortText",type:n,pure:!0}),n})(),pt=(()=>{class n{constructor(e,o){this.formBuilder=e,this.dialog=o,this.updateConcept=new t.vpe,this.conceptForm=new s.cw({})}ngOnInit(){this.conceptForm=this.formBuilder.group({text:[this.concept.text,[s.kI.required]]})}onSubmit(){const e=this.conceptForm.value;if(e){const o=Object.assign({},e);this.updateConcept.emit(o)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-concept-update-form"]],inputs:{concept:"concept"},outputs:{updateConcept:"updateConcept"},decls:16,vars:8,consts:[[1,"form",3,"formGroup","ngSubmit"],["color","primary","selected","",1,"chip"],[1,"concept-text"],["appearance","outline",1,"form-field"],["data-cy","knowledge-concept-update-input","matInput","","type","text","formControlName","text","placeholder","Concept text"],["matSuffix",""],["data-cy","knowledge-concept-update-button","mat-raised-button","","type","submit","color","primary",1,"save-button",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-chip-list")(2,"mat-chip",1),t._uU(3,"Concept"),t.qZA()(),t.TgZ(4,"p",2),t._uU(5),t.ALo(6,"shortText"),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Concept"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-icon",5),t._uU(13,"book"),t.qZA()(),t.TgZ(14,"button",6),t._uU(15," Update Concept "),t.qZA()()),2&e&&(t.Q6J("formGroup",o.conceptForm),t.xp6(5),t.Oqu(t.xi3(6,3,t.lcZ(7,6,o.concept.text),100)),t.xp6(9),t.Q6J("disabled",!o.conceptForm.valid))},directives:[s._Y,s.JL,s.sg,S.qn,S.HS,m.KE,m.hX,T.Nt,s.Fj,s.JJ,s.u,Z.Hw,m.R9,x.lW],pipes:[F,r.rS],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{border-radius:.5rem;margin-bottom:1rem}.form[_ngcontent-%COMP%]   .concept-text[_ngcontent-%COMP%]{margin-left:.25rem}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{width:48%}"]}),n})();var A=l(773);function ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",12)(1,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onConceptDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete concept"),t.qZA()()}}function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",14),t.NdJ("opened",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onConceptSelect(a.id)}),t.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",15),t._uU(3),t.ALo(4,"titlecase"),t.qZA()(),t.TgZ(5,"app-knowledge-concept-update-form",16),t.NdJ("updateConcept",function(c){return t.CHM(e),t.oxw(2).onConceptUpdate(c)}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,2,e.text)),t.xp6(2),t.Q6J("concept",e)}}const E=function(n){return{width:n}};function gt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",6)(1,"div",7)(2,"mat-card",8)(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onConceptCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add concept"),t.qZA()(),t.YNc(8,ut,6,0,"mat-card",10),t.qZA(),t.TgZ(9,"mat-accordion"),t.YNc(10,ft,6,4,"mat-expansion-panel",11),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(3,E,e.selectedConceptID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedConceptID),t.xp6(2),t.Q6J("ngForOf",e.conceptsPage.content)}}function mt(n,i){1&n&&t._UZ(0,"mat-spinner")}function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",12)(1,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).onConceptDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete concept"),t.qZA()()}}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"mat-card",8)(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onConceptCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add concept"),t.qZA()(),t.YNc(8,_t,6,0,"mat-card",10),t.qZA(),t.TgZ(9,"span"),t._uU(10," No concepts to display"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngStyle",t.VKq(2,E,e.selectedConceptID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedConceptID)}}function ht(n,i){if(1&n&&(t.YNc(0,mt,1,0,"mat-spinner",17),t.YNc(1,Ct,11,4,"div",18)),2&n){const e=t.oxw();t.Q6J("ngIf","loading"===e.state),t.xp6(1),t.Q6J("ngIf","empty"===e.state)}}let bt=(()=>{class n{constructor(e,o){this.dialog=e,this.concepStore=o,this.totalElements=0,this.state=p.INIT,this.selectConcept=new t.vpe,this.createConcept=new t.vpe,this.updateConcept=new t.vpe,this.deleteConcept=new t.vpe,this.getPage=new t.vpe,this.numberOfConceptsSubejct=new J.X(0)}ngOnInit(){this.numberOfConcepts$=this.numberOfConceptsSubejct.asObservable(),this.concepStore.countConcepts().pipe((0,st.q)(1),(0,D.d)()).subscribe(e=>this.numberOfConceptsSubejct.next(e))}onConceptSelect(e){this.selectedConceptID=e,this.selectConcept.emit(this.selectedConceptID)}onConceptCreate(){this.dialog.open(lt,{width:"30rem",data:{knowledgeItem:"concept"}}).afterClosed().subscribe(o=>{if(o){const c=Object.assign({},o);this.createConcept.emit(c),this.updateNumberOfConcepts(1)}})}onConceptUpdate(e){this.updateConcept.emit(e)}onConceptDelete(){this.dialog.open(v,{width:"20rem",data:{knowledgeItem:"concept"}}).afterClosed().subscribe(o=>{o&&(this.deleteConcept.emit(this.selectedConceptID),this.selectedConceptID=0)})}onPageGet(e){const{pageIndex:o}=Object.assign({},e);this.getPage.emit(o)}updateNumberOfConcepts(e){this.numberOfConceptsSubejct.next(this.numberOfConceptsSubejct.value+e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.uw),t.Y36(q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-concept-list"]],inputs:{conceptsPage:"conceptsPage",totalElements:"totalElements",state:"state"},outputs:{selectConcept:"selectConcept",createConcept:"createConcept",updateConcept:"updateConcept",deleteConcept:"deleteConcept",getPage:"getPage"},decls:10,vars:7,consts:[[1,"card"],[1,"card-title"],[1,"paginator"],[3,"showFirstLastButtons","length","pageSize","page"],["class","concepts",4,"ngIf","ngIfElse"],["noConcepts",""],[1,"concepts"],[1,"actions"],[1,"add-concept",3,"ngStyle"],["data-cy","knowledge-create-concept-button","mat-mini-fab","","color","warn",1,"add-button",3,"click"],["class","delete-concept",4,"ngIf"],["class","concept-panel",3,"opened",4,"ngFor","ngForOf"],[1,"delete-concept"],["data-cy","knowledge-delete-concept-button","mat-mini-fab","","color","primary",1,"delete-button",3,"click"],[1,"concept-panel",3,"opened"],["data-cy","knowledge-concept-title",1,"concept-title"],[3,"concept","updateConcept"],[4,"ngIf"],["class","concepts",4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title-group",1)(2,"mat-card-title"),t._uU(3,"Concepts"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-paginator",3),t.NdJ("page",function(a){return o.onPageGet(a)}),t.ALo(6,"async"),t.qZA()(),t.YNc(7,gt,11,5,"mat-card-content",4),t.qZA(),t.YNc(8,ht,2,2,"ng-template",null,5,t.W1O)),2&e){const c=t.MAs(9);t.xp6(5),t.Q6J("showFirstLastButtons",!0)("length",t.lcZ(6,5,o.numberOfConcepts$))("pageSize",10),t.xp6(2),t.Q6J("ngIf","init"===o.state||"normal"===o.state)("ngIfElse",c)}},directives:[b.a8,b.C1,b.n5,dt.NW,r.O5,b.dn,r.PC,x.lW,Z.Hw,M.pp,r.sg,M.ib,M.yz,M.yK,pt,A.Ou],pipes:[r.Ov,r.rS],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;display:flex;justify-content:space-between}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-concept[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-concept[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;width:43%}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-concept[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-concept[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-concept[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-concept[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{margin-right:1rem}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-concept[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-concept[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-concept[_ngcontent-%COMP%]{background-color:#c62828}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-concept[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]{display:flex;justify-content:center}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .concept-panel[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .concept-panel[_ngcontent-%COMP%]   .concept-title[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   .concepts[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .concept-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{background-color:#fff!important}"]}),n})();var K=l(4533),k=l(7446);let Mt=(()=>{class n{constructor(e){this.formBuilder=e,this.createDefinition=new t.vpe,this.definitionForm=new s.cw({})}ngOnInit(){this.definitionForm=this.formBuilder.group({text:[null,[s.kI.required]],correct:[!1]})}onSubmit(){const e=this.definitionForm.value;if(e){const o=Object.assign({},e);this.createDefinition.emit(o)}}onCancel(){this.createDefinition.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-definition-create-form"]],outputs:{createDefinition:"createDefinition"},decls:12,vars:2,consts:[[1,"form",3,"formGroup","ngSubmit"],["appearance","outline",1,"form-field"],["data-cy","knowledge-definition-text-input","matInput","","formControlName","text","cdkTextareaAutosize","","placeholder","Definition text"],["data-cy","knowledge-definition-correct-checkbox","formControlName","correct",1,"form-checkbox"],["mat-dialog-actions","",1,"actions"],["data-cy","knowledge-definition-save-button","mat-raised-button","","type","submit",1,"save-button",3,"disabled"],["mat-raised-button","","color","primary","type","button",1,"close-button",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Definition"),t.qZA(),t._UZ(4,"textarea",2),t.qZA(),t.TgZ(5,"mat-checkbox",3),t._uU(6," Is Correct "),t.qZA(),t.TgZ(7,"div",4)(8,"button",5),t._uU(9," Create Definition "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.onCancel()}),t._uU(11,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.definitionForm),t.xp6(8),t.Q6J("disabled",!o.definitionForm.valid))},directives:[s._Y,s.JL,s.sg,m.KE,m.hX,T.Nt,s.Fj,K.IC,s.JJ,s.u,k.oG,f.H8,x.lW],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:48%}"]}),n})(),wt=(()=>{class n{constructor(e,o){this.data=e,this.dialogRef=o}onDefinitionCreate(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.WI),t.Y36(f.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-dialog-definition-create"]],decls:3,vars:1,consts:[["mat-dialog-title",""],[3,"createDefinition"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"app-knowledge-definition-create-form",1),t.NdJ("createDefinition",function(a){return o.onDefinitionCreate(a)}),t.qZA()),2&e&&(t.xp6(1),t.hij("Create ",o.data.knowledgeItem,""))},directives:[Mt],styles:[""]}),n})();const Ot=function(n){return{correct:n}};let Pt=(()=>{class n{constructor(e,o){this.formBuilder=e,this.dialog=o,this.updateDefinition=new t.vpe,this.definitionForm=new s.cw({})}ngOnInit(){this.definitionForm=this.formBuilder.group({text:[this.definition.text,[s.kI.required]],correct:[this.definition.correct]})}onSubmit(){const e=this.definitionForm.value;if(e){const o=Object.assign({},e);this.updateDefinition.emit(o)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-definition-update-form"]],inputs:{definition:"definition"},outputs:{updateDefinition:"updateDefinition"},decls:20,vars:9,consts:[[1,"form",3,"formGroup","ngSubmit"],["color","primary","selected","",1,"chip"],[1,"definition-text"],["color","accent","selected","",1,"chip"],["data-cy","knowledge-definition-correct-message",1,"definition-text","checkbox-source",3,"ngClass"],["appearance","outline",1,"form-field"],["matInput","","data-cy","knowledge-definition-update-input","formControlName","text","cdkTextareaAutosize","","placeholder","Definition text"],["formControlName","correct",1,"form-checkbox"],["data-cy","knowledge-definition-update-button","mat-raised-button","","type","submit","color","primary",1,"save-button",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-chip-list")(2,"mat-chip",1),t._uU(3,"Definition"),t.qZA()(),t.TgZ(4,"p",2),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"mat-chip-list")(8,"mat-chip",3),t._uU(9,"Is correct?"),t.qZA()(),t.TgZ(10,"p",4),t._uU(11),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Definition"),t.qZA(),t._UZ(15,"textarea",6),t.qZA(),t.TgZ(16,"mat-checkbox",7),t._uU(17," Is Correct "),t.qZA(),t.TgZ(18,"button",8),t._uU(19," Update Definition "),t.qZA()()),2&e&&(t.Q6J("formGroup",o.definitionForm),t.xp6(5),t.Oqu(t.lcZ(6,5,o.definition.text)),t.xp6(5),t.Q6J("ngClass",t.VKq(7,Ot,o.definition.correct)),t.xp6(1),t.hij(" ",o.definition.correct?"Correct":"Incorrect"," "),t.xp6(7),t.Q6J("disabled",!o.definitionForm.valid))},directives:[s._Y,s.JL,s.sg,S.qn,S.HS,r.mk,m.KE,m.hX,T.Nt,s.Fj,K.IC,s.JJ,s.u,k.oG,x.lW],pipes:[r.rS],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{border-radius:.5rem;margin-bottom:1rem}.form[_ngcontent-%COMP%]   .definition-text[_ngcontent-%COMP%]{margin-left:.25rem}.form[_ngcontent-%COMP%]   .checkbox-source[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:green}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{width:48%}"]}),n})();function xt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",10)(1,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onDefinitionDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete definition"),t.qZA()()}}function jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",12),t.NdJ("opened",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onDefinitionSelect(a.id)}),t.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",13),t._uU(3),t.ALo(4,"shortText"),t.ALo(5,"titlecase"),t.qZA()(),t.TgZ(6,"app-knowledge-definition-update-form",14),t.NdJ("updateDefinition",function(c){return t.CHM(e),t.oxw(2).onDefinitionUpdate(c)}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",t.xi3(4,2,t.lcZ(5,5,e.text),100)," "),t.xp6(3),t.Q6J("definition",e)}}const B=function(n){return{width:n}};function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",4)(1,"div",5)(2,"mat-card",6)(3,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDefinitionCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add definition"),t.qZA()(),t.YNc(8,xt,6,0,"mat-card",8),t.qZA(),t.TgZ(9,"mat-accordion"),t.YNc(10,jt,7,7,"mat-expansion-panel",9),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(3,B,e.selectedDefinitionID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedDefinitionID),t.xp6(2),t.Q6J("ngForOf",e.definitionsList)}}function Dt(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Select a concept to display its definitions"),t.qZA())}function Zt(n,i){1&n&&t._UZ(0,"mat-spinner")}function Tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",10)(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).onDefinitionDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete definition"),t.qZA()()}}function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"mat-card",6)(3,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onDefinitionCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add definition"),t.qZA()(),t.YNc(8,Tt,6,0,"mat-card",8),t.qZA(),t.TgZ(9,"span",17),t._uU(10,"No definitions to display"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngStyle",t.VKq(2,B,e.selectedDefinitionID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedDefinitionID)}}function yt(n,i){if(1&n&&(t.YNc(0,Dt,2,0,"span",15),t.YNc(1,Zt,1,0,"mat-spinner",15),t.YNc(2,St,11,4,"div",16)),2&n){const e=t.oxw();t.Q6J("ngIf","init"===e.state),t.xp6(1),t.Q6J("ngIf","loading"===e.state),t.xp6(1),t.Q6J("ngIf","empty"===e.state)}}let Kt=(()=>{class n{constructor(e,o){this.definitionStore=e,this.dialog=o,this.state=p.INIT,this.resetList=!1,this.selectDefinition=new t.vpe,this.createDefinition=new t.vpe,this.updateDefinition=new t.vpe,this.deleteDefinition=new t.vpe}ngOnInit(){this.definitionStore.state$.subscribe({next:e=>this.state=e,error:e=>console.error(e)})}ngOnChanges(e){e.resetList&&(this.selectedDefinitionID=0)}onDefinitionSelect(e){this.selectedDefinitionID=e,this.selectDefinition.emit(this.selectedDefinitionID)}onDefinitionCreate(){this.dialog.open(wt,{width:"30rem",data:{knowledgeItem:"definition"}}).afterClosed().subscribe(o=>{if(o){const c=Object.assign({},o);this.createDefinition.emit(c)}})}onDefinitionUpdate(e){this.updateDefinition.emit(e)}onDefinitionDelete(){this.dialog.open(v,{width:"20rem",data:{knowledgeItem:"definition"}}).afterClosed().subscribe(o=>{o&&(this.deleteDefinition.emit(this.selectedDefinitionID),this.selectedDefinitionID=0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-definition-list"]],inputs:{definitionsList:"definitionsList",state:"state",resetList:"resetList"},outputs:{selectDefinition:"selectDefinition",createDefinition:"createDefinition",updateDefinition:"updateDefinition",deleteDefinition:"deleteDefinition"},features:[t.TTD],decls:7,vars:2,consts:[[1,"card"],[1,"card-title"],["class","definitions",4,"ngIf","ngIfElse"],["noDefinitions",""],[1,"definitions"],[1,"actions"],[1,"add-definition",3,"ngStyle"],["data-cy","knowledge-create-definition-button","mat-mini-fab","","color","warn",1,"add-button",3,"click"],["class","delete-definition",4,"ngIf"],["class","definition-panel",3,"opened",4,"ngFor","ngForOf"],[1,"delete-definition"],["data-cy","knowledge-delete-definition-button","mat-mini-fab","","color","primary",1,"delete-button",3,"click"],[1,"definition-panel",3,"opened"],["data-cy","knowledge-definition-title",1,"definition-title"],[3,"definition","updateDefinition"],[4,"ngIf"],["class","definitions",4,"ngIf"],["data-cy","knowledge-no-defintions-message"],["mat-mini-fab","","color","primary",1,"delete-button",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title-group",1)(2,"mat-card-title"),t._uU(3,"Definitions"),t.qZA()(),t.YNc(4,Jt,11,5,"mat-card-content",2),t.qZA(),t.YNc(5,yt,3,3,"ng-template",null,3,t.W1O)),2&e){const c=t.MAs(6);t.xp6(4),t.Q6J("ngIf","normal"===o.state)("ngIfElse",c)}},directives:[b.a8,b.C1,b.n5,r.O5,b.dn,r.PC,x.lW,Z.Hw,M.pp,r.sg,M.ib,M.yz,M.yK,Pt,A.Ou],pipes:[F,r.rS],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;display:flex;justify-content:space-between}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-definition[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-definition[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;width:43%}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-definition[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-definition[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-definition[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-definition[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{margin-right:1rem}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-definition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-definition[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-definition[_ngcontent-%COMP%]{background-color:#c62828}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-definition[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .definition-panel[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .definition-panel[_ngcontent-%COMP%]   .definition-title[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   .definitions[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .definition-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{background-color:#fff!important}"]}),n})(),kt=(()=>{class n{constructor(e){this.formBuilder=e,this.createJustification=new t.vpe,this.justificationForm=new s.cw({})}ngOnInit(){this.justificationForm=this.formBuilder.group({text:[null,[s.kI.required]],correct:[!1],error:[null,[s.kI.required]]})}toggleErrorField(e){const o=this.justificationForm.controls.error;e?(o.disable(),this.justificationForm.controls.error.clearValidators()):(o.enable(),this.justificationForm.controls.error.setValidators(s.kI.required)),this.justificationForm.controls.error.setValue("")}onSubmit(){const e=this.justificationForm.value;if(e){const o=Object.assign({},e);this.createJustification.emit(o)}}onCancel(){this.createJustification.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-justification-create-form"]],outputs:{createJustification:"createJustification"},decls:16,vars:2,consts:[[1,"form",3,"formGroup","ngSubmit"],["appearance","outline",1,"form-field"],["data-cy","knowledge-justification-text-input","matInput","","formControlName","text","cdkTextareaAutosize","","placeholder","Justification text"],["matInput","","data-cy","knowledge-justifiction-error-input","formControlName","error","cdkTextareaAutosize","","placeholder","Justification error"],["data-cy","knowledge-justifiction-correct-checkbox","formControlName","correct",1,"form-checkbox",3,"change"],["mat-dialog-actions","",1,"actions"],["data-cy","knowledge-justification-save-button","mat-raised-button","","type","submit",1,"save-button",3,"disabled"],["mat-raised-button","","color","primary","type","button",1,"close-button",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Justification"),t.qZA(),t._UZ(4,"textarea",2),t.qZA(),t.TgZ(5,"mat-form-field",1)(6,"mat-label"),t._uU(7,"Error"),t.qZA(),t._UZ(8,"textarea",3),t.qZA(),t.TgZ(9,"mat-checkbox",4),t.NdJ("change",function(){return o.toggleErrorField(o.justificationForm.value.correct)}),t._uU(10," Is Correct "),t.qZA(),t.TgZ(11,"div",5)(12,"button",6),t._uU(13," Create Justification "),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){return o.onCancel()}),t._uU(15,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("formGroup",o.justificationForm),t.xp6(12),t.Q6J("disabled",!o.justificationForm.valid))},directives:[s._Y,s.JL,s.sg,m.KE,m.hX,T.Nt,s.Fj,K.IC,s.JJ,s.u,k.oG,f.H8,x.lW],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:48%}"]}),n})(),Lt=(()=>{class n{constructor(e,o){this.data=e,this.dialogRef=o}onJustificationCreate(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.WI),t.Y36(f.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-dialog-justification-create"]],decls:3,vars:1,consts:[["mat-dialog-title",""],[3,"createJustification"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"app-knowledge-justification-create-form",1),t.NdJ("createJustification",function(a){return o.onJustificationCreate(a)}),t.qZA()),2&e&&(t.xp6(1),t.hij("Create ",o.data.knowledgeItem,""))},directives:[kt],styles:[""]}),n})();const vt=function(n){return{correct:n}};let Ft=(()=>{class n{constructor(e,o){this.formBuilder=e,this.dialog=o,this.updateJustification=new t.vpe,this.justificationForm=new s.cw({})}ngOnInit(){this.justificationForm=this.formBuilder.group({text:[this.justification.text,[s.kI.required]],correct:[this.justification.correct],error:[{value:this.justification.correct?"":this.justification.error,disabled:this.justification.correct}]})}onSubmit(){const e=this.justificationForm.value;if(e){const o=Object.assign({},e);this.updateJustification.emit(o)}}toggleErrorField(e){const o=this.justificationForm.controls.error;e?o.disable():o.enable(),this.justificationForm.controls.error.setValue("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-justification-update-form"]],inputs:{justification:"justification"},outputs:{updateJustification:"updateJustification"},decls:30,vars:12,consts:[[1,"form",3,"formGroup","ngSubmit"],["color","primary","selected","",1,"chip"],[1,"justification-text"],["color","accent","selected","",1,"chip"],[1,"justification-text","checkbox-source",3,"ngClass"],["color","warn","selected","",1,"chip"],["appearance","outline",1,"form-field"],["matInput","","data-cy","knowledge-justification-update-input","formControlName","text","cdkTextareaAutosize","","placeholder","Justification text"],["matInput","","formControlName","error","cdkTextareaAutosize","","placeholder","Justification error"],["formControlName","correct",1,"form-checkbox",3,"change"],["data-cy","knowledge-justification-update-button","mat-raised-button","","type","submit","color","primary",1,"save-button",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-chip-list")(2,"mat-chip",1),t._uU(3,"Definition"),t.qZA()(),t.TgZ(4,"p",2),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"mat-chip-list")(8,"mat-chip",3),t._uU(9,"Is correct?"),t.qZA()(),t.TgZ(10,"p",4),t._uU(11),t.qZA(),t.TgZ(12,"mat-chip-list")(13,"mat-chip",5),t._uU(14,"Error"),t.qZA()(),t.TgZ(15,"p",2),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Justification"),t.qZA(),t._UZ(21,"textarea",7),t.qZA(),t.TgZ(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Error"),t.qZA(),t._UZ(25,"textarea",8),t.qZA(),t.TgZ(26,"mat-checkbox",9),t.NdJ("change",function(){return o.toggleErrorField(o.justificationForm.value.correct)}),t._uU(27," Is Correct "),t.qZA(),t.TgZ(28,"button",10),t._uU(29," Update Justification "),t.qZA()()),2&e&&(t.Q6J("formGroup",o.justificationForm),t.xp6(5),t.Oqu(t.lcZ(6,6,o.justification.text)),t.xp6(5),t.Q6J("ngClass",t.VKq(10,vt,o.justification.correct)),t.xp6(1),t.hij(" ",o.justification.correct?"Correct":"Incorrect"," "),t.xp6(5),t.hij(" ",o.justification.correct?"No error":t.lcZ(17,8,o.justification.error)," "),t.xp6(12),t.Q6J("disabled",!o.justificationForm.valid))},directives:[s._Y,s.JL,s.sg,S.qn,S.HS,r.mk,m.KE,m.hX,T.Nt,s.Fj,K.IC,s.JJ,s.u,k.oG,x.lW],pipes:[r.rS],styles:[".form[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{border-radius:.5rem;margin-bottom:1rem}.form[_ngcontent-%COMP%]   .justification-text[_ngcontent-%COMP%]{margin-left:.25rem}.form[_ngcontent-%COMP%]   .checkbox-source[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{color:green}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]   .form-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{width:48%}"]}),n})();function At(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",10)(1,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onJustificationDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete justification"),t.qZA()()}}function It(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",12),t.NdJ("opened",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onJustificationSelect(a.id)}),t.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title",13),t._uU(3),t.ALo(4,"shortText"),t.ALo(5,"titlecase"),t.qZA()(),t.TgZ(6,"app-knowledge-justification-update-form",14),t.NdJ("updateJustification",function(c){return t.CHM(e),t.oxw(2).onJustificationUpdate(c)}),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",t.xi3(4,2,t.lcZ(5,5,e.text),100)," "),t.xp6(3),t.Q6J("justification",e)}}const Q=function(n){return{width:n}};function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-content",4)(1,"div",5)(2,"mat-card",6)(3,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onJustificationCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add justification"),t.qZA()(),t.YNc(8,At,6,0,"mat-card",8),t.qZA(),t.TgZ(9,"mat-accordion"),t.YNc(10,It,7,7,"mat-expansion-panel",9),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(3,Q,e.selectedJustificationID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedJustificationID),t.xp6(2),t.Q6J("ngForOf",e.justificationsList)}}function qt(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Select a definition to display its justifications"),t.qZA())}function Nt(n,i){1&n&&t._UZ(0,"mat-spinner")}function Yt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",10)(1,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).onJustificationDelete()}),t.TgZ(2,"mat-icon"),t._uU(3,"remove"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Delete justification"),t.qZA()()}}function Et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"mat-card",6)(3,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onJustificationCreate()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Add justification"),t.qZA()(),t.YNc(8,Yt,6,0,"mat-card",8),t.qZA(),t.TgZ(9,"span"),t._uU(10,"No justifications to display"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Q,e.selectedJustificationID?"43%":"100%")),t.xp6(6),t.Q6J("ngIf",e.selectedJustificationID)}}function Bt(n,i){if(1&n&&(t.YNc(0,qt,2,0,"span",15),t.YNc(1,Nt,1,0,"mat-spinner",15),t.YNc(2,Et,11,4,"div",16)),2&n){const e=t.oxw();t.Q6J("ngIf","init"===e.state),t.xp6(1),t.Q6J("ngIf","loading"===e.state),t.xp6(1),t.Q6J("ngIf","empty"===e.state)}}let Qt=(()=>{class n{constructor(e,o){this.justificationStore=e,this.dialog=o,this.state=p.INIT,this.resetList=!1,this.selectJustification=new t.vpe,this.createJustification=new t.vpe,this.updateJustification=new t.vpe,this.deleteJustification=new t.vpe}ngOnInit(){this.justificationStore.state$.subscribe({next:e=>this.state=e,error:e=>console.error(e)})}ngOnChanges(e){e.resetList&&(this.selectedJustificationID=0)}onJustificationSelect(e){this.selectedJustificationID=e,this.selectJustification.emit(this.selectedJustificationID)}onJustificationCreate(){this.dialog.open(Lt,{width:"30rem",data:{knowledgeItem:"justification"}}).afterClosed().subscribe(o=>{if(o){const c=Object.assign({},o);this.createJustification.emit(c)}})}onJustificationUpdate(e){this.updateJustification.emit(e)}onJustificationDelete(){this.dialog.open(v,{width:"20rem",data:{knowledgeItem:"justification"}}).afterClosed().subscribe(o=>{o&&(this.deleteJustification.emit(this.selectedJustificationID),this.selectedJustificationID=0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-justification-list"]],inputs:{justificationsList:"justificationsList",state:"state",resetList:"resetList"},outputs:{selectJustification:"selectJustification",createJustification:"createJustification",updateJustification:"updateJustification",deleteJustification:"deleteJustification"},features:[t.TTD],decls:7,vars:2,consts:[[1,"card"],[1,"card-title"],["class","justifications",4,"ngIf","ngIfElse"],["noJustifications",""],[1,"justifications"],[1,"actions"],[1,"add-justification",3,"ngStyle"],["data-cy","knowledge-create-justification-button","mat-mini-fab","","color","warn",1,"add-button",3,"click"],["class","delete-justification",4,"ngIf"],["class","justification-panel",3,"opened",4,"ngFor","ngForOf"],[1,"delete-justification"],["mat-mini-fab","","color","primary",1,"delete-button",3,"click"],[1,"justification-panel",3,"opened"],["data-cy","knowledge-justification-title",1,"justification-title"],[3,"justification","updateJustification"],[4,"ngIf"],["class","justifications",4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title-group",1)(2,"mat-card-title"),t._uU(3,"Justifications"),t.qZA()(),t.YNc(4,Ut,11,5,"mat-card-content",2),t.qZA(),t.YNc(5,Bt,3,3,"ng-template",null,3,t.W1O)),2&e){const c=t.MAs(6);t.xp6(4),t.Q6J("ngIf","normal"===o.state)("ngIfElse",c)}},directives:[b.a8,b.C1,b.n5,r.O5,b.dn,r.PC,x.lW,Z.Hw,M.pp,r.sg,M.ib,M.yz,M.yK,Ft,A.Ou],pipes:[F,r.rS],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;display:flex;justify-content:space-between}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-justification[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-justification[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;width:43%}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-justification[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-justification[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-justification[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-justification[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{margin-right:1rem}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-justification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-justification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-justification[_ngcontent-%COMP%]{background-color:#c62828}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-justification[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .justification-panel[_ngcontent-%COMP%]{background-color:#673ab7}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .justification-panel[_ngcontent-%COMP%]   .justification-title[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   .justifications[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   .justification-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{background-color:#fff!important}"]}),n})();const $t=["conceptList"],Rt=[{path:"",component:(()=>{class n{constructor(e,o,c,a){this.conceptStore=e,this.definitionStore=o,this.justificationStore=c,this.snackbarService=a,this.subscriptionList=[],this.resetDefinitionList=!1,this.resetJustificationList=!1}ngOnDestroy(){this.conceptStore.resetConceptList(),this.definitionStore.resetDefinitionList(),this.justificationStore.resetJustificationList(),this.subscriptionList.forEach(e=>e.unsubscribe())}onConceptSelect(e){this.selectedConceptID=e,this.resetDefinitionList=!0,this.subscriptionList.push(this.definitionStore.getDefinitions(this.selectedConceptID).subscribe({next:()=>this.resetDefinitionList=!1,error:o=>console.error(o.message)})),this.justificationStore.resetJustificationList()}onConceptCreate(e){e.text&&this.subscriptionList.push(this.conceptStore.createConcept(e).subscribe({next:()=>this.snackbarService.openSnackBar("Concept created."),error:o=>this.snackbarService.openSnackBar(o.message)}))}onConceptUpdate(e){this.subscriptionList.push(this.conceptStore.updateConcept(this.selectedConceptID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Concept updated."),error:o=>this.snackbarService.openSnackBar(o.message)}))}onConceptDelete(e){this.subscriptionList.push(this.conceptStore.deleteConcept(e).subscribe({next:()=>{this.snackbarService.openSnackBar("Concept deleted."),this.definitionStore.resetDefinitionList(),this.justificationStore.resetJustificationList(),this.conceptList.updateNumberOfConcepts(-1)},error:()=>this.snackbarService.openSnackBar("Error deleting concept.")}))}onConceptPageGet(e){this.subscriptionList.push(this.conceptStore.getConcepts(e).subscribe())}onDefinitionSelect(e){this.selectedDefinitionID=e,this.resetJustificationList=!0,this.subscriptionList.push(this.justificationStore.getJustifications(this.selectedConceptID,this.selectedDefinitionID).subscribe({next:()=>this.resetJustificationList=!1,error:o=>console.error(o)}))}onDefinitionCreate(e){e.text&&this.subscriptionList.push(this.definitionStore.createDefinition(this.selectedConceptID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Definition created."),error:()=>this.snackbarService.openSnackBar("Error creating definition.")}))}onDefinitionUpdate(e){this.subscriptionList.push(this.definitionStore.updateDefinition(this.selectedConceptID,this.selectedDefinitionID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Definition updated."),error:()=>this.snackbarService.openSnackBar("Error updating definition.")}))}onDefinitionDelete(e){this.subscriptionList.push(this.definitionStore.deleteDefinition(this.selectedConceptID,e).subscribe({next:()=>{this.snackbarService.openSnackBar("Definition deleted."),this.justificationStore.resetJustificationList()},error:()=>this.snackbarService.openSnackBar("Error deleting definition.")}))}onJustificationSelect(e){this.selectedJustificationID=e}onJustificationCreate(e){e.text&&this.subscriptionList.push(this.justificationStore.createJustification(this.selectedConceptID,this.selectedDefinitionID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Justification created."),error:()=>this.snackbarService.openSnackBar("Error creating justification.")}))}onJustificationUpdate(e){this.subscriptionList.push(this.justificationStore.updateJustification(this.selectedConceptID,this.selectedDefinitionID,this.selectedJustificationID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Justification updated."),error:()=>this.snackbarService.openSnackBar("Error updating justification.")}))}onJustificationDelete(e){this.subscriptionList.push(this.justificationStore.deleteJustification(this.selectedConceptID,this.selectedDefinitionID,e).subscribe({next:()=>this.snackbarService.openSnackBar("Justification deleted."),error:()=>this.snackbarService.openSnackBar("Error deleting justification.")}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q),t.Y36(N),t.Y36(Y),t.Y36(ct.o))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-knowledge-manager"]],viewQuery:function(e,o){if(1&e&&t.Gf($t,5),2&e){let c;t.iGM(c=t.CRH())&&(o.conceptList=c.first)}},decls:17,vars:20,consts:[["color","primary",1,"tool-bar"],["mat-button","","disabled",""],[1,"icon"],[1,"lists-container"],[1,"card",3,"conceptsPage","state","selectConcept","createConcept","updateConcept","deleteConcept","getPage"],["conceptList",""],[1,"card",3,"definitionsList","state","resetList","selectDefinition","createDefinition","updateDefinition","deleteDefinition"],[1,"card",3,"justificationsList","state","resetList","selectJustification","createJustification","updateJustification","deleteJustification"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"mat-icon",2),t._uU(3,"book"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Knowledge Manager"),t.qZA()()(),t.TgZ(6,"div",3)(7,"app-knowledge-concept-list",4,5),t.NdJ("selectConcept",function(a){return o.onConceptSelect(a)})("createConcept",function(a){return o.onConceptCreate(a)})("updateConcept",function(a){return o.onConceptUpdate(a)})("deleteConcept",function(a){return o.onConceptDelete(a)})("getPage",function(a){return o.onConceptPageGet(a)}),t.ALo(9,"async"),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"app-knowledge-definition-list",6),t.NdJ("selectDefinition",function(a){return o.onDefinitionSelect(a)})("createDefinition",function(a){return o.onDefinitionCreate(a)})("updateDefinition",function(a){return o.onDefinitionUpdate(a)})("deleteDefinition",function(a){return o.onDefinitionDelete(a)}),t.ALo(12,"async"),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"app-knowledge-justification-list",7),t.NdJ("selectJustification",function(a){return o.onJustificationSelect(a)})("createJustification",function(a){return o.onJustificationCreate(a)})("updateJustification",function(a){return o.onJustificationUpdate(a)})("deleteJustification",function(a){return o.onJustificationDelete(a)}),t.ALo(15,"async"),t.ALo(16,"async"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("conceptsPage",t.lcZ(9,8,o.conceptStore.conceptsPage$))("state",t.lcZ(10,10,o.conceptStore.state$)),t.xp6(4),t.Q6J("definitionsList",t.lcZ(12,12,o.definitionStore.definitionsList$))("state",t.lcZ(13,14,o.definitionStore.state$))("resetList",o.resetDefinitionList),t.xp6(3),t.Q6J("justificationsList",t.lcZ(15,16,o.justificationStore.justificationsList$))("state",t.lcZ(16,18,o.justificationStore.state$))("resetList",o.resetJustificationList))},directives:[at.Ye,Z.Hw,bt,Kt,Qt],pipes:[r.Ov],styles:[".lists-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.lists-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;height:100%;margin:1rem}"]}),n})()}];let zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[U.Bz.forChild(Rt)],U.Bz]}),n})(),Ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,O.q,zt,H,W,ot]]}),n})()}}]);