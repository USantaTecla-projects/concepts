"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[592],{4607:(O,f,o)=>{o.d(f,{m:()=>u});var s=o(1135),l=o(262),d=o(2843),p=o(4004),h=o(8505),_=o(5e3),E=o(520),D=o(2482);let u=(()=>{class m{constructor(r,t){this.httpClient=r,this.examMapperService=t,this.correctionInCourseSubject=new s.X({id:0,userID:0,creationDate:"",questionList:[],answerList:[],corrected:!1,mark:"0"}),this.correctionInCourse$=this.correctionInCourseSubject.asObservable()}getExam(r,t){return console.log("???"),this.httpClient.get(`${r}/exams/${t}`).pipe((0,l.K)(e=>{const n="Could not get the user exams";return console.error(n,e),(0,d._)(()=>new Error(n))}),(0,p.U)(e=>this.examMapperService.mapDTOToExam(e)),(0,h.b)(e=>console.log(e)),(0,h.b)(e=>this.correctionInCourseSubject.next(e)))}updateExam(r){const{id:t,userID:e,creationDate:n}=this.correctionInCourseSubject.getValue(),i=this.examMapperService.mapExamToDTO({examID:t,userID:e,creationDate:n,corrected:!0},r);return console.log(i),this.httpClient.patch(`${e}/exams`,i).pipe((0,l.K)(c=>{const g="Could not reply the exam";return console.error(g,c),(0,d._)(()=>new Error(g))}))}getNumberOfQuestions(){return this.correctionInCourseSubject.getValue().questionList.length}}return m.\u0275fac=function(r){return new(r||m)(_.LFG(E.eN),_.LFG(D._))},m.\u0275prov=_.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},4205:(O,f,o)=>{o.d(f,{G:()=>m});var s=o(1135),l=o(262),d=o(2843),p=o(4004),h=o(8505),_=o(3151),E=o(5e3),D=o(520),u=o(2482);let m=(()=>{class a{constructor(t,e){this.httpClient=t,this.examMapperService=e,this.examInCourseSubject=new s.X({id:0,userID:0,creationDate:"",questionList:[],answerList:[],corrected:!1,mark:"0"}),this.examInCourse$=this.examInCourseSubject.asObservable()}createExam(t){const{userID:e}=t;return this.httpClient.post(`${e}/exams`,t).pipe((0,l.K)(n=>{var i;const c=null!==(i=n.error.message)&&void 0!==i?i:"Could not generate the exam";return console.error(c,n),(0,d._)(()=>new Error(c))}),(0,p.U)(n=>this.examMapperService.mapDTOToExam(n)),(0,h.b)(n=>{this.examInCourseSubject.next(n)}),(0,_.d)())}updateExam(t){const{id:e,userID:n,creationDate:i,corrected:c}=this.examInCourseSubject.getValue(),g=this.examMapperService.mapExamToDTO({examID:e,userID:n,creationDate:i,corrected:c},t);return this.httpClient.patch(`${n}/exams`,g).pipe((0,l.K)(x=>{const S="Could not reply the exam";return console.error(S,x),(0,d._)(()=>new Error(S))}))}getNumberOfQuestions(){return this.examInCourseSubject.getValue().questionList.length}}return a.\u0275fac=function(t){return new(t||a)(E.LFG(D.eN),E.LFG(u._))},a.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5813:(O,f,o)=>{o.d(f,{O:()=>D});var s=o(4004),l=o(3900),d=o(262),p=o(2843),h=o(5e3),_=o(520),E=o(2482);let D=(()=>{class u{constructor(a,r){this.httpClient=a,this.examMapperService=r}getExam(a,r){return a.pipe((0,s.U)(t=>t?t.id:0),(0,l.w)(t=>this.getExamObservable(t,r)))}getExamObservable(a,r){return this.httpClient.get(`${a}/exams/${r}`).pipe((0,d.K)(t=>{const e="Could not get the user exams";return console.error(e,t),(0,p._)(()=>new Error(e))}),(0,s.U)(t=>this.examMapperService.mapDTOToExam(t)))}getUserExams(a,r=0,t){return a.pipe((0,s.U)(e=>e?e.id:0),(0,l.w)(e=>this.getUsersExamsObservable(e,r,t)))}getUsersExamsObservable(a,r,t){return this.httpClient.get(`${a}/exams`,{params:{page:r,isCorrected:t}}).pipe((0,d.K)(e=>{const n="Could not get the user exams";return console.error(n,e),(0,p._)(()=>new Error(n))}),(0,s.U)(e=>{const{content:n}=e,i=n.map(c=>this.examMapperService.mapDTOToExam(c));return Object.assign(Object.assign({},e),{content:i})}))}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(_.eN),h.LFG(E._))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6945:(O,f,o)=>{function s(a,r,t,e,n,i,c){try{var g=a[i](c),x=g.value}catch(S){return void t(S)}g.done?r(x):Promise.resolve(x).then(e,n)}function l(a){return function(){var r=this,t=arguments;return new Promise(function(e,n){var i=a.apply(r,t);function c(x){s(i,e,n,c,g,"next",x)}function g(x){s(i,e,n,c,g,"throw",x)}c(void 0)})}}o.d(f,{J:()=>m});var d=o(449),p=o(6805),h=o(930),E=o(1135),D=o(727),u=o(5e3);let m=(()=>{class a extends d.o2{constructor(){super(...arguments),this.pageSize=10,this.length=1e4,this.cachedData=Array.from({length:this.pageSize}),this.lastPageFetched=0,this.firstFetch=!0,this.dataStream=new E.X(this.cachedData),this.subscription=new D.w0}connect(t){return this.subscription.add(t.viewChange.subscribe(e=>{const n=this.getPageForIndex(e.end);(n!==this.lastPageFetched||0===this.lastPageFetched)&&this.fetchPage(n)})),this.dataStream}disconnect(){this.subscription.unsubscribe()}getPageForIndex(t){return Math.floor(t/this.pageSize)}fetchPage(t){var e=this;return l(function*(){if(0===t||e.firstFetch){const n=yield e.getElementsToRenderOnScrollDown(t);e.firstFetch?(e.cachedData.splice(0,e.pageSize,...n),e.firstFetch=!1):e.cachedData.splice(t*e.pageSize,e.pageSize,...n)}if(e.isScrollingDown(t)){e.unloadStartHiddenElements(t);const n=yield e.getElementsToRenderOnScrollDown(t);e.hasElementBeenFetchedBefore(t)?e.cachedData.push(...n):e.cachedData.splice(t*e.pageSize,e.pageSize,...n)}if(e.isScrollingUp(t)&&(e.unloadEndHiddenElements(t),t>1)){const n=yield e.getElementsToRenderOnScrollUp(t);e.cachedData.splice((t-2)*e.pageSize,e.pageSize,...n)}e.lastPageFetched=t,e.dataStream.next(e.cachedData)})()}unloadStartHiddenElements(t){const e=t-2;if(e>0){const n=e*this.pageSize;for(let i=0;i<n;i++)delete this.cachedData[i]}}unloadEndHiddenElements(t){var e=this;return l(function*(){for(let c=(t+2)*e.pageSize;c<e.length;c++)delete e.cachedData[c]})()}getElementsToRenderOnScrollUp(t){var e=this;return l(function*(){return yield e.getElementsToRenderOnScrollDown(t-2)})()}getElementsToRenderOnScrollDown(t){var e=this;return l(function*(){const n=e.fetchData(t);return(yield function _(a,r){const t="object"==typeof r;return new Promise((e,n)=>{const i=new h.Hp({next:c=>{e(c),i.unsubscribe()},error:n,complete:()=>{t?e(r.defaultValue):n(new p.K)}});a.subscribe(i)})}(n)).content})()}hasElementBeenFetchedBefore(t){return this.cachedData.length/this.pageSize===t}isScrollingDown(t){return t>this.lastPageFetched}isScrollingUp(t){return t<this.lastPageFetched}}return a.\u0275fac=function(){let r;return function(e){return(r||(r=u.n5z(a)))(e||a)}}(),a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9520:(O,f,o)=>{o.d(f,{G:()=>a});var s=o(5e3),l=o(4239),d=o(9808);const p=["elementTemplate"];function h(r,t){1&r&&s.GkF(0)}const _=function(r){return{height:r}},E=function(r){return{element:r}};function D(r,t){if(1&r&&(s.TgZ(0,"div",3),s.YNc(1,h,1,0,"ng-container",4),s.qZA()),2&r){const e=t.$implicit,n=s.oxw(),i=s.MAs(3);s.Q6J("ngStyle",s.VKq(3,_,n.elementSize+"px")),s.xp6(1),s.Q6J("ngTemplateOutlet",n.elementTemplate||i)("ngTemplateOutletContext",s.VKq(5,E,e))}}function u(r,t){1&r&&(s.TgZ(0,"div",6),s._uU(1,"'loading...'"),s.qZA())}function m(r,t){if(1&r&&s.YNc(0,u,2,0,"div",5),2&r){const e=s.oxw();s.Q6J("cdkVirtualForOf",e.datasource)}}let a=(()=>{class r{constructor(){this.elementSize=80}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-infinite-scroll-list"]],contentQueries:function(e,n,i){if(1&e&&s.Suo(i,p,5),2&e){let c;s.iGM(c=s.CRH())&&(n.elementTemplate=c.first)}},inputs:{elementSize:"elementSize",datasource:"datasource"},decls:4,vars:2,consts:[[1,"main-viewport",3,"itemSize"],["class","item",3,"ngStyle",4,"cdkVirtualFor","cdkVirtualForOf"],["defaultItem",""],[1,"item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"item"]],template:function(e,n){1&e&&(s.TgZ(0,"cdk-virtual-scroll-viewport",0),s.YNc(1,D,2,7,"div",1),s.qZA(),s.YNc(2,m,1,1,"ng-template",null,2,s.W1O)),2&e&&(s.s9C("itemSize",n.elementSize),s.xp6(1),s.Q6J("cdkVirtualForOf",n.datasource))},directives:[l.N7,l.xd,l.x0,d.PC,d.tP],styles:[".main-viewport[_ngcontent-%COMP%]{height:60vh;width:100%;border:none}.item[_ngcontent-%COMP%]{margin:1rem}"]}),r})()}}]);